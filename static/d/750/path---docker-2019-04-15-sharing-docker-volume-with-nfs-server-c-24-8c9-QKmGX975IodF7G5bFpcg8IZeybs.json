{"data":{"site":{"siteMetadata":{"title":"Kinuz Blog","subtitle":"","copyright":"Â© All rights reserved.","author":{"name":"Kinuz","twitter":"#"},"disqusShortname":"NuzHome","url":"https://kinuz.netlify.com"}},"markdownRemark":{"id":"48d77aaf-fe02-5c60-9ce4-8d186eb8ec77","html":"<ul>\n<li>current dockedr machines are like this.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/88330016a0239e412059b0a7128c63d1/1478c/docker-machine-status.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 666px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 15.465465465465467%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAoklEQVQI1w3KSQ6CMBhAYS4ApAN/5wEstILIrTSCxpVLE4V4b0levtXLXkP4Wb46s2m3WfORYtXmq/RbqCsmF0QWTGdMbpg+mJiBzRTuhD6BLRVkwxS1l1IL693pnJwX6RgPXTC1lVZJI4XmyioQAJLthhi44nvAIBvHqaogz0smeJvaOjRdn9rU2drFPsU+Nm2ThmS8LVCBKNof401JSoTxHz4JGwBup8zKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"docker-machie status\"\n        title=\"\"\n        src=\"/static/88330016a0239e412059b0a7128c63d1/1478c/docker-machine-status.png\"\n        srcset=\"/static/88330016a0239e412059b0a7128c63d1/0783d/docker-machine-status.png 240w,\n/static/88330016a0239e412059b0a7128c63d1/782f4/docker-machine-status.png 480w,\n/static/88330016a0239e412059b0a7128c63d1/1478c/docker-machine-status.png 666w\"\n        sizes=\"(max-width: 666px) 100vw, 666px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>configure yaml file for nfs service</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'3.7'</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">nfs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> erichough/nfs<span class=\"token punctuation\">-</span>server<span class=\"token punctuation\">:</span>2.2.1\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> nfs<span class=\"token punctuation\">-</span>server\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'2049:2049'</span>\n    <span class=\"token key atrule\">privileged</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> ./nfs<span class=\"token punctuation\">-</span>share<span class=\"token punctuation\">-</span>data<span class=\"token punctuation\">:</span>/data\n      <span class=\"token punctuation\">-</span> ./exports.txt<span class=\"token punctuation\">:</span>/etc/exports\n    <span class=\"token key atrule\">network_mode</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"host\"</span>\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always</code></pre></div>\n<ul>\n<li>create a exports.txt file to mount a container.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/nfsshare *(rw,fsid=0,sync,no_subtree_check,no_auth_nlm,insecure,no_root_squash)</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">mkdir</span> /opt/nfs-data\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">mount</span> -v 192.168.0.3:/ /opt/nfs-data </code></pre></div>\n<p>on Manjaro</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ yay -S nfs-utils</code></pre></div>\n<p>on Ubuntu</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> nfs-common</code></pre></div>","fields":{"tagSlugs":["/tags/docker/","/tags/nfs/"]},"frontmatter":{"title":"Sharing docker volume with NFS Server","tags":["docker","nfs"],"date":"2019-04-14T15:37:57.000Z","description":null,"refs":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/docker/2019/04/15/sharing-docker-volume-with-nfs-server"}}