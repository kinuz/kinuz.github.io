{"data":{"site":{"siteMetadata":{"title":"Kinuz Blog","subtitle":"","copyright":"Â© All rights reserved.","author":{"name":"Kinuz","twitter":"#"},"disqusShortname":"NuzHome","url":"https://kinuz.netlify.com"}},"markdownRemark":{"id":"48d77aaf-fe02-5c60-9ce4-8d186eb8ec77","html":"<ul>\n<li>configure yaml file for nfs service</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'3.7'</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">nfs</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> erichough/nfs<span class=\"token punctuation\">-</span>server<span class=\"token punctuation\">:</span>2.2.1\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> nfs<span class=\"token punctuation\">-</span>server\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'2049:2049'</span>\n    <span class=\"token key atrule\">privileged</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /opt/nfsshare<span class=\"token punctuation\">:</span>/nfsshare\n      <span class=\"token punctuation\">-</span> ./exports.txt<span class=\"token punctuation\">:</span>/etc/exports\n    <span class=\"token key atrule\">network_mode</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"host\"</span>\n    <span class=\"token key atrule\">restart</span><span class=\"token punctuation\">:</span> always</code></pre></div>\n<ul>\n<li>create a exports.txt file to mount a container.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/nfsshare *(rw,fsid=0,sync,no_subtree_check,no_auth_nlm,insecure,no_root_squash)</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">mkdir</span> /opt/tmp\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">mount</span> -v <span class=\"token punctuation\">{</span>nfs-server<span class=\"token punctuation\">}</span>:/ /opt/tmp </code></pre></div>\n<p>on Manjaro</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ yay -S nfs-utils</code></pre></div>\n<p>on Ubuntu</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> nfs-common</code></pre></div>","fields":{"tagSlugs":["/tags/docker/","/tags/nfs/"]},"frontmatter":{"title":"Sharing docker volume with NFS Server","tags":["docker","nfs"],"date":"2019-04-14T15:37:57.000Z","description":null,"refs":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/docker/2019/04/15/sharing-docker-volume-with-nfs-server"}}